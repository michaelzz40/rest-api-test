{"version":3,"sources":["Spinner.js","Home.js","AddForm.js","actions/types.js","actions/auth.js","components/Navigation.js","App.js","reducer/auth.js","store.js","index.js"],"names":["Spinner","className","Home","useState","books","setBooks","bookId","setBookId","loading","setLoading","useEffect","a","axios","get","res","data","fetchBooks","submitHandler","e","preventDefault","book","deleteHandler","id","delete","filter","_id","console","log","message","Card","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","target","value","onClick","to","Button","variant","length","Alert","Table","striped","bordered","hover","map","title","author","isbn","publisher","publication_year","last_modified_date","created_date","AddForm","props","form","setForm","match","params","fetchBookData","put","history","push","post","Container","USER_LOGIN","USER_LOGOUT","user_auto_login","dispatch","token","localStorage","getItem","defaults","headers","common","payload","userId","name","Navigation","useDispatch","useSelector","state","userAuth","Navbar","bg","Brand","Nav","removeItem","appId","process","fields","callback","response","accessToken","userID","then","setItem","App","path","component","exact","initialState","reducer","combineReducers","action","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.52d0c62c.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Spinner.css\";\n\nconst Spinner = () => {\n  return (\n    <div className='lds-grid'>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Container, Table, Form, Card, Alert, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Spinner from \"./Spinner\";\nimport { Link } from \"react-router-dom\";\n\nfunction Home() {\n  const [books, setBooks] = useState([]);\n  const [bookId, setBookId] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchBooks = async () => {\n      setLoading(true);\n      const res = await axios.get(`http://localhost:5001/api/books/`);\n      setLoading(false);\n      setBooks(res.data);\n    };\n    fetchBooks();\n  }, []);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      if (bookId) {\n        const res = await axios.get(\n          `http://localhost:5001/api/books/${bookId}`\n        );\n        setBooks(res.data.book);\n        setLoading(false);\n      } else {\n        const res = await axios.get(`http://localhost:5001/api/books/`);\n        setBooks(res.data);\n        setLoading(false);\n      }\n    } catch (error) {\n      setBooks([]);\n      setLoading(false);\n    }\n  };\n\n  const deleteHandler = async id => {\n    try {\n      setLoading(true);\n      await axios.delete(`http://localhost:5001/api/books/${id}`);\n      setBooks([...books.filter(book => book._id !== id)]);\n      setLoading(false);\n    } catch (err) {\n      console.log(err.message);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className='home'>\n      <Card className='px-3 py-2 my-4'>\n        <Card.Body>\n          <Form onSubmit={submitHandler}>\n            <Form.Group controlId='exampleForm.ControlInput1'>\n              <Form.Label>Search by ID</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Please Enter the ID'\n                onChange={e => setBookId(e.target.value)}\n              />\n              <button\n                type='submit'\n                onClick={submitHandler}\n                className='btn btn-primary my-2'\n              >\n                Submit\n              </button>\n\n              <Link to='/form'>\n                <Button variant='success' className='mx-4'>\n                  Add Book{\" \"}\n                </Button>\n              </Link>\n            </Form.Group>\n          </Form>\n        </Card.Body>\n      </Card>\n\n      {books.length === 0 ? (\n        <Alert className='my-3'>\n          <h1 className='text-center'>No Books Found</h1>\n        </Alert>\n      ) : (\n        <div className='my-3'></div>\n      )}\n\n      {loading ? (\n        <Spinner></Spinner>\n      ) : (\n        <Table striped bordered hover variant='dark'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Title</th>\n              <th>Author</th>\n              <th>ISBN</th>\n              <th>Publisher</th>\n              <th>Publication Year</th>\n              <th>last modified date</th>\n              <th>created date</th>\n              <th>Delete</th>\n              <th>Edit</th>\n            </tr>\n          </thead>\n\n          {books.length === 0 ? (\n            <></>\n          ) : (\n            <tbody>\n              {books.map(book => {\n                return (\n                  <tr key={book._id}>\n                    <td>{book._id}</td>\n                    <td>{book.title}</td>\n                    <td>{book.author}</td>\n                    <td>{book.isbn}</td>\n                    <td>{book.publisher}</td>\n                    <td>{book.publication_year}</td>\n                    <td>{book.last_modified_date}</td>\n                    <td>{book.created_date}</td>\n                    <td>\n                      <Button\n                        variant='danger'\n                        onClick={() => deleteHandler(book._id)}\n                      >\n                        Delete\n                      </Button>\n                    </td>\n                    <td>\n                      <Link to={`/form/${book._id}`}>\n                        <Button variant='primary'>Edit</Button>\n                      </Link>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          )}\n        </Table>\n      )}\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Form, Card, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Spinner from \"./Spinner\";\n\nconst AddForm = props => {\n  const [form, setForm] = useState({\n    title: \"\",\n    publisher: \"\",\n    isbn: \"\",\n    author: \"\",\n    publication_year: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchBookData = async () => {\n      try {\n        if (props.match.params.bookId) {\n          setLoading(true);\n          const res = await axios.get(\n            `http://localhost:5001/api/books/${props.match.params.bookId}`\n          );\n          setForm({\n            title: res.data.book[0].title,\n            publisher: res.data.book[0].publisher,\n            isbn: res.data.book[0].isbn,\n            publication_year: res.data.book[0].publication_year,\n            author: res.data.book[0].author\n          });\n        }\n        setLoading(false);\n      } catch (error) {\n        console.log(error.message);\n        setLoading(false);\n      }\n    };\n\n    fetchBookData();\n  }, [props.match.params.bookId]);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    if (props.match.params.bookId) {\n      try {\n        setLoading(true);\n        await axios.put(\n          `http://localhost:5001/api/books/${props.match.params.bookId}`,\n          form,\n          { \"Content-Type \": \"application/json\" }\n        );\n        setLoading(false);\n        props.history.push(\"/\");\n      } catch (error) {\n        console.log(error.message);\n        setLoading(false);\n      }\n    } else {\n      try {\n        setLoading(true);\n        await axios.post(`http://localhost:5001/api/books/`, form, {\n          \"Content-Type \": \"application/json\"\n        });\n        setLoading(false);\n        props.history.push(\"/\");\n      } catch (error) {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <Container>\n      {loading ? (\n        <Spinner></Spinner>\n      ) : (\n        <Card className='px-4 py-4'>\n          <Form onSubmit={e => submitHandler(e)}>\n            <Form.Group>\n              <Form.Label>Title</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Title'\n                value={form.title}\n                onChange={e => setForm({ ...form, title: e.target.value })}\n              />\n            </Form.Group>\n\n            <Form.Group>\n              <Form.Label>Author</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Author'\n                value={form.author}\n                onChange={e => setForm({ ...form, author: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Publisher</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Publisher'\n                value={form.publisher}\n                onChange={e => setForm({ ...form, publisher: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>ISBN</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter ISBN'\n                value={form.isbn}\n                onChange={e => setForm({ ...form, isbn: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Publication Year</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Publication Year'\n                value={form.publication_year}\n                onChange={e =>\n                  setForm({ ...form, publication_year: e.target.value })\n                }\n              />\n            </Form.Group>\n\n            <Button variant='primary' type='submit'>\n              Submit\n            </Button>\n          </Form>\n        </Card>\n      )}\n    </Container>\n  );\n};\nexport default AddForm;\n","export const USER_LOGIN = \"USER_LOGIN\";\nexport const USER_LOGOUT = \"USER_LOGOUT\";\n","import { USER_LOGIN, USER_LOGOUT } from \"./types\";\nimport axios from \"axios\";\n\nexport const user_auto_login = () => async dispatch => {\n  const token = localStorage.getItem(\"token\");\n\n  if (!token) {\n    return;\n  }\n  axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n  let res = null;\n  try {\n    res = await axios.get(\"http://localhost:5001/api/auth/user-info\");\n    dispatch({\n      type: USER_LOGIN,\n      payload: {\n        token: token,\n        userId: res.data.userId,\n        name: res.data.name\n      }\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n\nexport const user_logout = () => dispatch => {\n  dispatch({\n    type: USER_LOGOUT\n  });\n};\n","import React from \"react\";\nimport { Navbar, Container, Button, Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport FacebookLogin from \"react-facebook-login\";\nimport axios from \"axios\";\nimport { user_auto_login, user_logout } from \"../actions/auth\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MdExitToApp } from \"react-icons/md\";\n\nconst Navigation = () => {\n  const dispatch = useDispatch();\n\n  const responseFacebook = response => {\n    axios\n      .post(\"http://localhost:5001/api/auth/facebook-login\", {\n        accessToken: response.accessToken,\n        userID: response.userID\n      })\n      .then(response => {\n        localStorage.setItem(\"token\", response.data.token);\n        dispatch(user_auto_login());\n      });\n  };\n  const { token, userId, name } = useSelector(state => state.userAuth);\n\n  const logoutHandler = () => {\n    dispatch(user_logout());\n    localStorage.removeItem(\"token\");\n  };\n\n  return (\n    <Navbar bg='dark' variant='dark'>\n      <Container>\n        <Link to='/'>\n          <Navbar.Brand>Books.com</Navbar.Brand>\n        </Link>\n        {token ? (\n          <Nav>\n            <Navbar.Brand>{name}</Navbar.Brand>\n            <Button variant='primary' onClick={logoutHandler}>\n              <MdExitToApp /> Logout\n            </Button>\n          </Nav>\n        ) : (\n          <FacebookLogin\n            appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n            fields='name,email,picture'\n            callback={responseFacebook}\n          />\n        )}\n      </Container>\n    </Navbar>\n  );\n};\n\nexport default Navigation;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport Home from \"./Home\";\nimport AddForm from \"./AddForm\";\nimport Navigation from \"./components/Navigation\";\nimport { Container } from \"react-bootstrap\";\nimport { user_auto_login } from \"./actions/auth\";\nimport { useDispatch } from \"react-redux\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(user_auto_login());\n  }, [dispatch]);\n\n  return (\n    <>\n      <Navigation />\n      <Container>\n        <Switch>\n          <Route path='/' component={Home} exact />\n          <Route path='/form/:bookId?' component={AddForm} />\n        </Switch>\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","import { USER_LOGIN, USER_LOGOUT } from \"../actions/types\";\n\nconst initialState = {\n  userId: null,\n  name: \"\",\n  token: null\n};\n\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case USER_LOGIN:\n      return {\n        ...state,\n        userId: action.payload.userId,\n        token: action.payload.token,\n        name: action.payload.name\n      };\n    case USER_LOGOUT:\n      return {\n        userId: null,\n        token: null,\n        name: \"\"\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport { authReducer } from \"./reducer/auth\";\n\nconst reducer = combineReducers({\n  userAuth: authReducer\n});\n\nconst middleware = [thunk];\nconst initialState = {};\n\nconst store = createStore(\n  reducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
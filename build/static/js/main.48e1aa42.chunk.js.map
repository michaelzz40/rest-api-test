{"version":3,"sources":["Spinner.js","Home.js","AddForm.js","App.js","index.js"],"names":["Spinner","className","Home","useState","books","setBooks","bookId","setBookId","loading","setLoading","useEffect","a","axios","get","res","data","fetchBooks","submitHandler","e","preventDefault","book","deleteHandler","id","delete","filter","_id","console","log","message","Container","Card","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","target","value","onClick","to","Button","variant","length","Alert","Table","striped","bordered","hover","map","title","author","isbn","publisher","publication_year","last_modified_date","created_date","AddForm","props","form","setForm","match","params","fetchBookData","put","history","push","post","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48e1aa42.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Spinner.css\";\n\nconst Spinner = () => {\n  return (\n    <div className='lds-grid'>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {\n  Container,\n  Table,\n  Row,\n  Col,\n  Form,\n  Card,\n  Alert,\n  Button\n} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Spinner from \"./Spinner\";\nimport { Link } from \"react-router-dom\";\n\nfunction Home() {\n  const [books, setBooks] = useState([]);\n  const [bookId, setBookId] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchBooks = async () => {\n      setLoading(true);\n      const res = await axios.get(`http://localhost:5001/api/books/`);\n      setLoading(false);\n      setBooks(res.data);\n    };\n    fetchBooks();\n  }, []);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      if (bookId) {\n        const res = await axios.get(\n          `http://localhost:5001/api/books/${bookId}`\n        );\n        setBooks(res.data.book);\n        setLoading(false);\n      } else {\n        const res = await axios.get(`http://localhost:5001/api/books/`);\n        setBooks(res.data);\n        setLoading(false);\n      }\n    } catch (error) {\n      setBooks([]);\n      setLoading(false);\n    }\n  };\n\n  const deleteHandler = async id => {\n    try {\n      setLoading(true);\n      await axios.delete(`http://localhost:5001/api/books/${id}`);\n      setBooks([...books.filter(book => book._id !== id)]);\n      setLoading(false);\n    } catch (err) {\n      console.log(err.message);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className='App'>\n      <Container>\n        <Card className='px-3 py-2 my-4'>\n          <Card.Body>\n            <Form onSubmit={submitHandler}>\n              <Form.Group controlId='exampleForm.ControlInput1'>\n                <Form.Label>Search by ID</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Please Enter the ID'\n                  onChange={e => setBookId(e.target.value)}\n                />\n                <button\n                  type='submit'\n                  onClick={submitHandler}\n                  className='btn btn-primary my-2'\n                >\n                  Submit\n                </button>\n\n                <Link to='/form'>\n                  <Button variant='success' className='mx-4'>\n                    Add Book{\" \"}\n                  </Button>\n                </Link>\n              </Form.Group>\n            </Form>\n          </Card.Body>\n        </Card>\n\n        {books.length === 0 ? (\n          <Alert className='my-3'>\n            <h1 className='text-center'>No Books Found</h1>\n          </Alert>\n        ) : (\n          <div className='my-3'></div>\n        )}\n\n        {loading ? (\n          <Spinner></Spinner>\n        ) : (\n          <Table striped bordered hover variant='dark'>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Title</th>\n                <th>Author</th>\n                <th>ISBN</th>\n                <th>Publisher</th>\n                <th>Publication Year</th>\n                <th>last modified date</th>\n                <th>created date</th>\n                <th>Delete</th>\n                <th>Edit</th>\n              </tr>\n            </thead>\n\n            {books.length === 0 ? (\n              <></>\n            ) : (\n              <tbody>\n                {books.map(book => {\n                  return (\n                    <tr key={book._id}>\n                      <td>{book._id}</td>\n                      <td>{book.title}</td>\n                      <td>{book.author}</td>\n                      <td>{book.isbn}</td>\n                      <td>{book.publisher}</td>\n                      <td>{book.publication_year}</td>\n                      <td>{book.last_modified_date}</td>\n                      <td>{book.created_date}</td>\n                      <td>\n                        <Button\n                          variant='danger'\n                          onClick={() => deleteHandler(book._id)}\n                        >\n                          Delete\n                        </Button>\n                      </td>\n                      <td>\n                        <Link to={`/form/${book._id}`}>\n                          <Button variant='primary'>Edit</Button>\n                        </Link>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            )}\n          </Table>\n        )}\n      </Container>\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Form, Card, Button } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport Spinner from \"./Spinner\";\n\nconst AddForm = props => {\n  const [form, setForm] = useState({\n    title: \"\",\n    publisher: \"\",\n    isbn: \"\",\n    author: \"\",\n    publication_year: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchBookData = async () => {\n      try {\n        if (props.match.params.bookId) {\n          setLoading(true);\n          const res = await axios.get(\n            `http://localhost:5001/api/books/${props.match.params.bookId}`\n          );\n          setForm({\n            title: res.data.book[0].title,\n            publisher: res.data.book[0].publisher,\n            isbn: res.data.book[0].isbn,\n            publication_year: res.data.book[0].publication_year,\n            author: res.data.book[0].author\n          });\n        }\n        setLoading(false);\n      } catch (error) {\n        console.log(error.message);\n        setLoading(false);\n      }\n    };\n\n    fetchBookData();\n  }, []);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    if (props.match.params.bookId) {\n      try {\n        setLoading(true);\n        await axios.put(\n          `http://localhost:5001/api/books/${props.match.params.bookId}`,\n          form,\n          { \"Content-Type \": \"application/json\" }\n        );\n        setLoading(false);\n        props.history.push(\"/\");\n      } catch (error) {\n        console.log(error.message);\n        setLoading(false);\n      }\n    } else {\n      try {\n        setLoading(true);\n        await axios.post(`http://localhost:5001/api/books/`, form, {\n          \"Content-Type \": \"application/json\"\n        });\n        setLoading(false);\n        props.history.push(\"/\");\n      } catch (error) {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <Container>\n      {loading ? (\n        <Spinner></Spinner>\n      ) : (\n        <Card className='px-4 py-4'>\n          <Form onSubmit={e => submitHandler(e)}>\n            <Form.Group>\n              <Form.Label>Title</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Title'\n                value={form.title}\n                onChange={e => setForm({ ...form, title: e.target.value })}\n              />\n            </Form.Group>\n\n            <Form.Group>\n              <Form.Label>Author</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Author'\n                value={form.author}\n                onChange={e => setForm({ ...form, author: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Publisher</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Publisher'\n                value={form.publisher}\n                onChange={e => setForm({ ...form, publisher: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>ISBN</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter ISBN'\n                value={form.isbn}\n                onChange={e => setForm({ ...form, isbn: e.target.value })}\n              />\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>Publication Year</Form.Label>\n              <Form.Control\n                type='text'\n                placeholder='Enter Publication Year'\n                value={form.publication_year}\n                onChange={e =>\n                  setForm({ ...form, publication_year: e.target.value })\n                }\n              />\n            </Form.Group>\n\n            <Button variant='primary' type='submit'>\n              Submit\n            </Button>\n          </Form>\n        </Card>\n      )}\n    </Container>\n  );\n};\nexport default AddForm;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport Home from \"./Home\";\nimport AddForm from \"./AddForm\";\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path='/' component={Home} exact />\n      <Route path='/form/:bookId?' component={AddForm} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}